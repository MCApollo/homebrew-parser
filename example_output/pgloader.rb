name :
	 Pgloader
homepage :
	 https://github.com/dimitri/pgloader
url :
	 https://github.com/dimitri/pgloader/archive/v3.5.2.tar.gz
description :
	 Data loading tool for PostgreSQL
build_deps :
	 buildapp
	 sphinx-doc
link_deps :
	 freetds
	 sbcl
	 postgresql
optional_deps :
conflicts :
resource :
	 ['alexandria', 'anaphora', 'asdf-finalizers', 'asdf-system-connections', 'babel', 'bordeaux-threads', 'cffi', 'chipz', 'chunga', 'cl+ssl', 'cl-abnf', 'cl-base64', 'cl-containers', 'cl-csv', 'cl-db3', 'cl-fad', 'cl-interpol', 'cl-ixf', 'cl-log', 'cl-markdown', 'cl-mssql', 'cl-mustache', 'cl-ppcre', 'cl-sqlite', 'cl-unicode', 'cl-utilities', 'closer-mop', 'closure-common', 'command-line-arguments', 'cxml', 'drakma', 'dynamic-classes', 'esrap', 'flexi-streams', 'garbage-pools', 'ieee-floats', 'ironclad', 'iterate', 'local-time', 'lparallel', 'md5', 'metabang-bind', 'metatilities-base', 'nibbles', 'parse-number', 'postmodern', 'puri', 'py-configparser', 'qmynd', 'quri', 'split-sequence', 'trivial-backtrace', 'trivial-features', 'trivial-garbage', 'trivial-gray-streams', 'trivial-utf-8', 'usocket', 'uuid', 'yason', 'zs3']
	 ['https://beta.quicklisp.org/archive/alexandria/2017-08-30/alexandria-20170830-git.tgz', 'https://beta.quicklisp.org/archive/anaphora/2018-02-28/anaphora-20180228-git.tgz', 'https://beta.quicklisp.org/archive/asdf-finalizers/2017-04-03/asdf-finalizers-20170403-git.tgz', 'https://beta.quicklisp.org/archive/asdf-system-connections/2017-01-24/asdf-system-connections-20170124-git.tgz', 'https://beta.quicklisp.org/archive/babel/2017-12-27/babel-20171227-git.tgz', 'https://beta.quicklisp.org/archive/bordeaux-threads/2016-03-18/bordeaux-threads-v0.8.5.tgz', 'https://beta.quicklisp.org/archive/cffi/2018-02-28/cffi_0.19.0.tgz', 'https://beta.quicklisp.org/archive/chipz/2018-03-28/chipz-20180328-git.tgz', 'https://beta.quicklisp.org/archive/chunga/2018-01-31/chunga-20180131-git.tgz', 'https://beta.quicklisp.org/archive/cl+ssl/2018-03-28/cl+ssl-20180328-git.tgz', 'https://beta.quicklisp.org/archive/cl-abnf/2015-06-08/cl-abnf-20150608-git.tgz', 'https://beta.quicklisp.org/archive/cl-base64/2015-09-23/cl-base64-20150923-git.tgz', 'https://beta.quicklisp.org/archive/cl-containers/2017-04-03/cl-containers-20170403-git.tgz', 'https://beta.quicklisp.org/archive/cl-csv/2018-02-28/cl-csv-20180228-git.tgz', 'https://beta.quicklisp.org/archive/cl-db3/2015-03-02/cl-db3-20150302-git.tgz', 'https://beta.quicklisp.org/archive/cl-fad/2018-04-30/cl-fad-20180430-git.tgz', 'https://beta.quicklisp.org/archive/cl-interpol/2017-12-27/cl-interpol-20171227-git.tgz', 'https://beta.quicklisp.org/archive/cl-ixf/2018-02-28/cl-ixf-20180228-git.tgz', 'https://beta.quicklisp.org/archive/cl-log/2013-01-28/cl-log.1.0.1.tgz', 'https://beta.quicklisp.org/archive/cl-markdown/2010-10-06/cl-markdown-20101006-darcs.tgz', 'https://beta.quicklisp.org/archive/cl-mssql/2018-02-28/cl-mssql-20180228-git.tgz', 'https://beta.quicklisp.org/archive/cl-mustache/2015-09-23/cl-mustache-20150923-git.tgz', 'https://beta.quicklisp.org/archive/cl-ppcre/2017-12-27/cl-ppcre-20171227-git.tgz', 'https://beta.quicklisp.org/archive/cl-sqlite/2013-06-15/cl-sqlite-20130615-git.tgz', 'https://beta.quicklisp.org/archive/cl-unicode/2018-03-28/cl-unicode-20180328-git.tgz', 'https://beta.quicklisp.org/archive/cl-utilities/2010-10-06/cl-utilities-1.2.4.tgz', 'https://beta.quicklisp.org/archive/closer-mop/2018-04-30/closer-mop-20180430-git.tgz', 'https://beta.quicklisp.org/archive/closure-common/2010-11-07/closure-common-20101107-git.tgz', 'https://beta.quicklisp.org/archive/command-line-arguments/2015-12-18/command-line-arguments-20151218-git.tgz', 'https://beta.quicklisp.org/archive/cxml/2011-06-19/cxml-20110619-git.tgz', 'https://beta.quicklisp.org/archive/drakma/2017-08-30/drakma-v2.0.4.tgz', 'https://beta.quicklisp.org/archive/dynamic-classes/2013-01-28/dynamic-classes-20130128-git.tgz', 'https://beta.quicklisp.org/archive/esrap/2018-04-30/esrap-20180430-git.tgz', 'https://beta.quicklisp.org/archive/flexi-streams/2018-03-28/flexi-streams-20180328-git.tgz', 'https://beta.quicklisp.org/archive/garbage-pools/2013-07-20/garbage-pools-20130720-git.tgz', 'https://beta.quicklisp.org/archive/ieee-floats/2017-08-30/ieee-floats-20170830-git.tgz', 'https://beta.quicklisp.org/archive/ironclad/2018-04-30/ironclad-v0.39.tgz', 'https://beta.quicklisp.org/archive/iterate/2018-02-28/iterate-20180228-git.tgz', 'https://beta.quicklisp.org/archive/local-time/2018-02-28/local-time-20180228-git.tgz', 'https://beta.quicklisp.org/archive/lparallel/2016-08-25/lparallel-20160825-git.tgz', 'https://beta.quicklisp.org/archive/md5/2018-02-28/md5-20180228-git.tgz', 'https://beta.quicklisp.org/archive/metabang-bind/2017-11-30/metabang-bind-20171130-git.tgz', 'https://beta.quicklisp.org/archive/metatilities-base/2017-04-03/metatilities-base-20170403-git.tgz', 'https://beta.quicklisp.org/archive/nibbles/2018-04-30/nibbles-20180430-git.tgz', 'https://beta.quicklisp.org/archive/parse-number/2018-02-28/parse-number-v1.7.tgz', 'https://beta.quicklisp.org/archive/postmodern/2018-04-30/postmodern-20180430-git.tgz', 'https://beta.quicklisp.org/archive/puri/2018-02-28/puri-20180228-git.tgz', 'https://beta.quicklisp.org/archive/py-configparser/2017-08-30/py-configparser-20170830-svn.tgz', 'https://beta.quicklisp.org/archive/qmynd/2018-01-31/qmynd-20180131-git.tgz', 'https://beta.quicklisp.org/archive/quri/2016-12-04/quri-20161204-git.tgz', 'https://beta.quicklisp.org/archive/split-sequence/2018-02-28/split-sequence-v1.4.1.tgz', 'https://beta.quicklisp.org/archive/trivial-backtrace/2016-05-31/trivial-backtrace-20160531-git.tgz', 'https://beta.quicklisp.org/archive/trivial-features/2016-12-04/trivial-features-20161204-git.tgz', 'https://beta.quicklisp.org/archive/trivial-garbage/2015-01-13/trivial-garbage-20150113-git.tgz', 'https://beta.quicklisp.org/archive/trivial-gray-streams/2018-03-28/trivial-gray-streams-20180328-git.tgz', 'https://beta.quicklisp.org/archive/trivial-utf-8/2011-10-01/trivial-utf-8-20111001-darcs.tgz', 'https://beta.quicklisp.org/archive/usocket/2016-10-31/usocket-0.7.0.1.tgz', 'https://beta.quicklisp.org/archive/uuid/2013-08-13/uuid-20130813-git.tgz', 'https://beta.quicklisp.org/archive/yason/2016-02-08/yason-v0.7.6.tgz', 'https://beta.quicklisp.org/archive/zs3/2017-12-27/zs3-1.3.1.tgz']
patches :
EOF_patch :
install :
	 resources.each do |resource|
	 resource.stage buildpath/"lib"/resource.name
	 end
	 ENV["CL_SOURCE_REGISTRY"] = "#{buildpath}/lib//:#{buildpath}//"
	 ENV["ASDF_OUTPUT_TRANSLATIONS"] = "/:/"
	 system "make", "pgloader-standalone", "BUILDAPP=buildapp"
	 bin.install "build/bin/pgloader"
	 system "make", "-C", "docs", "man"
	 man1.install "docs/_build/man/pgloader.1"
